<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tuya iOS Smart Life App SDK API Doc: Tuya iOS Smart Life App SDK Sample for Objective-C</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="tuya.png"/></td>
  <td id="projectalign">
   <div id="projectname">Tuya iOS Smart Life App SDK API Doc<span id="projectnumber">&#160;5.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md___users_humtong__desktop_source_code_tuya_bizbundle__biz_bundle_tuya_home_ios_sdk_sample_objc__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Tuya iOS Smart Life App SDK Sample for Objective-C </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This sample demonstrates the use of Tuya iOS Smart Life App SDK to build an IoT app from scratch. Tuya iOS Smart Life App SDK is divided into several function groups to give developers a clear insight into the implementation for different features, including the user registration process, home management for different users, device network configuration, and controls. For device network configuration, the EZ mode and AP mode are implemented. This allows developers to pair devices over Wi-Fi and control the devices over LAN and MQTT. For device control, a common panel is used to send and receive any type of data points.</p>
<p ><img src="https://github.com/tuya/tuya-home-ios-sdk-sample-objc/raw/main/screenshot.png" alt="Tuya Smart app" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Self-developed Smart Life App Service</h1>
<p >Self-Developed Smart Life App is one of Tuya’s IoT app development solutions. This solution provides the services that enable connections between the app and the cloud. It also supports a full range of services and capabilities that customers can use to independently develop mobile apps. The Smart Life App SDK used in this sample is included in the Self-developed Smart Life App Service.</p>
<p >Self-Developed Smart Life App is classified into the <b>Trial</b> and <b>Official</b> editions:</p>
<ul>
<li><b>Self-Developed App Trial</b>: provided for a free trial. It supports up to 100,000 cloud API calls per month and up to 20 registered end users in total.</li>
<li><b>Self-Developed App Official</b>: provided for commercial use and costs $5,000/year (¥33,500/year) for the initial subscription and $2,000/year (¥13,500/year) for subsequent annual renewal. It is supplied with the Custom Domain Name service and up to 100 million cloud API calls per month.</li>
</ul>
<p >For more information, please check the <a href="https://developer.tuya.com/en/docs/app-development/app-sdk-price?id=Kbu0tcr2cbx3o">Pricing</a>.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Prerequisites</h1>
<ul>
<li>Xcode 12.0 and later</li>
<li>iOS 12 and later</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Use the sample</h1>
<ol type="1">
<li>The Tuya iOS Smart Life App SDK is distributed through <a href="http://cocoapods.org/">CocoaPods</a> and other dependencies in this sample. Make sure that you have installed CocoaPods. If not, run the following command to install CocoaPods first:</li>
</ol>
<div class="fragment"><div class="line">sudo gem install cocoapods</div>
<div class="line">pod setup</div>
</div><!-- fragment --><ol type="1">
<li>Clone or download this sample, change the directory to the one that includes <b>Podfile</b>, and then run the following command:</li>
</ol>
<div class="fragment"><div class="line">pod install</div>
</div><!-- fragment --><ol type="1">
<li>This sample requires you to have a pair of keys and a security image from <a href="https://developer.tuya.com/">Tuya IoT Platform</a>, and register a developer account if you don't have one. Then, perform the following steps:<ol type="a">
<li>Log in to the <a href="https://iot.tuya.com/">Tuya IoT platform</a>. In the left-side navigation pane, choose <b>App</b> &gt; <b>SDK Development</b>.</li>
<li>Click <b>Create</b> to create an app.</li>
<li>Fill in the required information. Make sure that you enter the valid Bundle ID. It cannot be changed afterward.</li>
<li>You can find the AppKey, AppSecret, and security image under the <b>Obtain Key</b> tag.</li>
</ol>
</li>
<li>Open the <code>TuyaAppSDKSample-iOS-ObjC.xcworkspace</code> pod generated for you.</li>
<li>Fill in the AppKey and AppSecret in the <b><a class="el" href="_app_key_8h.html">AppKey.h</a></b> file.</li>
</ol>
<div class="fragment"><div class="line"><span class="preprocessor">#define APP_KEY @&quot;&lt;#AppKey#&gt;&quot;</span></div>
<div class="line"><span class="preprocessor">#define APP_SECRET_KEY @&quot;&lt;#SecretKey#&gt;&quot;</span></div>
</div><!-- fragment --><ol type="1">
<li>Download the security image, rename it to <code>t_s.bmp</code>, and then drag it to the workspace to be at the same level as <code>Info.plist</code>.</li>
</ol>
<p ><b>Note</b>: The bundle ID, AppKey, AppSecret, and security image must be the same as your app on the <a href="https://iot.tuya.com">Tuya IoT Platform</a>. Otherwise, the sample cannot request the API.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
5.x migration guide</h1>
<blockquote class="doxtable">
<p >&zwj;The test was conducted on Ruby version 2.7.2p137. </p>
</blockquote>
<p>The Ruby script <code>/Tools/translator/translator.rb</code> can translate the code in your project that contains Tuya identifiers API to Thing identifiers API. For more information on migrating to version 5.x, please refer to the <a href="https://developer.tuya.com/en/docs/app-development/migration_guide?id=Kci3zqm3wlcut">migration guide</a>. To run the script, use the following command:</p>
<div class="fragment"><div class="line">ruby translator.rb [you project path]</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5"></a>
References</h1>
<p >For more information about Tuya iOS HomeSDK, see <a href="https://developer.tuya.com/en/docs/app-development">App SDK</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
